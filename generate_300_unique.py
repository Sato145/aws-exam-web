#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
300問の完全にユニークな問題を生成するスクリプト
"""

def generate_questions_96_300():
    """ID 96-300の205問を生成"""
    
    questions = []
    
    # S3詳細問題 (96-120)
    s3_questions = [
        ("S3バケット名の命名規則として正しくないものはどれか。", ["グローバルで一意である必要がある", "3-63文字の長さ", "大文字を含むことができる", "ピリオドを含むことができる"], 2, "S3バケット名は小文字のみ使用可能で、大文字は使用できません。"),
        ("S3のバージョニング機能について正しい説明はどれか。", ["デフォルトで有効になっている", "同じキーで複数のオブジェクトバージョンを保存できる", "無料で利用できる", "一度有効にすると無効にできない"], 1, "S3バージョニングを有効にすると、同じキーで複数のオブジェクトバージョンを保存できます。"),
        ("S3 Cross-Region Replicationの要件として正しいものはどれか。", ["同じリージョン内でのみ可能", "バージョニングが有効である必要がある", "パブリックアクセスが必要", "暗号化が無効である必要がある"], 1, "Cross-Region Replicationを使用するには、ソースとデスティネーションの両方のバケットでバージョニングが有効である必要があります。"),
        ("S3のライフサイクルポリシーで実行できないアクションはどれか。", ["オブジェクトの削除", "ストレージクラスの変更", "オブジェクトの暗号化", "不完全なマルチパートアップロードの削除"], 2, "ライフサイクルポリシーでは、オブジェクトの暗号化設定を変更することはできません。"),
        ("S3 Intelligent-Tieringの説明として正しいものはどれか。", ["手動でアクセスパターンを設定する必要がある", "アクセスパターンに基づいて自動的にストレージクラスを最適化する", "追加料金は発生しない", "Glacier Deep Archiveにも移行できる"], 1, "S3 Intelligent-Tieringは、アクセスパターンを監視して自動的に最適なストレージクラスに移行します。"),
        ("S3のマルチパートアップロードの最小パートサイズはどれか。", ["1MB", "5MB", "10MB", "100MB"], 1, "S3マルチパートアップロードでは、最後のパートを除いて各パートは最小5MBである必要があります。"),
        ("S3 Select の主な利点はどれか。", ["オブジェクト全体をダウンロードせずに必要なデータのみを取得", "オブジェクトの暗号化", "アクセス制御の強化", "ストレージコストの削減"], 0, "S3 Selectを使用すると、SQLクエリでオブジェクトの一部のみを取得でき、データ転送量とコストを削減できます。"),
        ("S3のアクセスログに記録されない情報はどれか。", ["リクエスト時刻", "リクエスト元IPアドレス", "オブジェクトの内容", "HTTPステータスコード"], 2, "S3アクセスログには、リクエストの詳細情報は記録されますが、オブジェクトの実際の内容は記録されません。"),
        ("S3 Transfer Accelerationが使用するネットワークはどれか。", ["AWS Direct Connect", "CloudFrontエッジロケーション", "VPC Peering", "AWS PrivateLink"], 1, "S3 Transfer AccelerationはCloudFrontのエッジロケーションを利用してアップロード速度を向上させます。"),
        ("S3バケットポリシーとIAMポリシーの違いとして正しいものはどれか。", ["バケットポリシーはリソースベース、IAMポリシーはユーザーベース", "バケットポリシーはユーザーベース、IAMポリシーはリソースベース", "両方ともリソースベース", "両方ともユーザーベース"], 0, "S3バケットポリシーはリソースベースのポリシーで、IAMポリシーはユーザーやロールに適用されるユーザーベースのポリシーです。"),
        ("S3の暗号化オプションで、顧客管理キーを使用するものはどれか。", ["SSE-S3", "SSE-KMS", "SSE-C", "すべて該当する"], 2, "SSE-C (Server-Side Encryption with Customer-Provided Keys)では、顧客が暗号化キーを提供・管理します。"),
        ("S3 Glacierからのデータ取得オプションで最も高速なものはどれか。", ["Expedited", "Standard", "Bulk", "Archive"], 0, "Expedited取得は1-5分でデータを取得できる最も高速なオプションです。"),
        ("S3のイベント通知で対応していないイベントはどれか。", ["オブジェクトの作成", "オブジェクトの削除", "オブジェクトの読み取り", "マルチパートアップロードの完了"], 2, "S3イベント通知は、オブジェクトの読み取りイベントには対応していません。"),
        ("S3のリクエスタ支払いの説明として正しいものはどれか。", ["バケット所有者がすべての費用を負担", "リクエスト者がデータ転送費用を負担", "リクエスト者がストレージ費用を負担", "費用は自動的に分割される"], 1, "リクエスタ支払いでは、リクエスト者がデータ転送とリクエスト費用を負担します。"),
        ("S3のオブジェクトロックの説明として正しいものはどれか。", ["オブジェクトの変更を一時的に防ぐ", "オブジェクトの削除や変更を指定期間防ぐ", "オブジェクトへのアクセスを制限する", "オブジェクトの暗号化を強制する"], 1, "S3オブジェクトロックは、指定された期間中オブジェクトの削除や変更を防ぐ機能です。"),
        ("S3のストレージクラス分析の目的はどれか。", ["ストレージコストの計算", "アクセスパターンの分析", "データの整合性チェック", "セキュリティ監査"], 1, "ストレージクラス分析は、オブジェクトのアクセスパターンを分析して最適なストレージクラスを推奨します。"),
        ("S3のインベントリレポートで取得できない情報はどれか。", ["オブジェクトサイズ", "最終更新日時", "ストレージクラス", "アクセス回数"], 3, "S3インベントリレポートは、オブジェクトのメタデータを提供しますが、アクセス回数は含まれません。"),
        ("S3のCORSの設定が必要な場面はどれか。", ["同一オリジンからのアクセス", "クロスオリジンからのWebアクセス", "AWS CLIからのアクセス", "VPC内からのアクセス"], 1, "CORS設定は、異なるドメインからのWebブラウザアクセスを許可するために必要です。"),
        ("S3のプレサインドURLの特徴として正しいものはどれか。", ["永続的なアクセス権限を提供", "一時的なアクセス権限を提供", "パブリックアクセスを有効にする", "IAMユーザーの作成が必要"], 1, "プレサインドURLは、指定された期間内でのみ有効な一時的なアクセス権限を提供します。"),
        ("S3のマルチリージョンアクセスポイントの利点はどれか。", ["コストの削減", "グローバルなアクセス最適化", "セキュリティの向上", "ストレージ容量の拡張"], 1, "マルチリージョンアクセスポイントは、複数リージョンのS3バケットへのアクセスを最適化します。"),
        ("S3のStorage Lensの主な機能はどれか。", ["オブジェクトの暗号化", "ストレージの使用状況とコストの可視化", "データの自動バックアップ", "アクセス制御の管理"], 1, "S3 Storage Lensは、組織全体のストレージ使用状況、コスト効率、データ保護を可視化します。"),
        ("S3のAccess Pointsの利点として正しくないものはどれか。", ["大規模なデータセットへのアクセス管理の簡素化", "ネットワークアクセス制御", "VPCからのプライベートアクセス", "ストレージコストの削減"], 3, "Access Pointsは、アクセス管理とセキュリティを向上させますが、直接的なストレージコスト削減は提供しません。"),
        ("S3のBlock Public Accessの設定レベルとして正しくないものはどれか。", ["アカウントレベル", "バケットレベル", "オブジェクトレベル", "リージョンレベル"], 3, "Block Public Accessは、アカウントレベルとバケットレベルで設定できますが、リージョンレベルの設定はありません。"),
        ("S3のServer Access Loggingで記録される情報として正しくないものはどれか。", ["リクエスト者のIPアドレス", "アクセス時刻", "リクエストされたオブジェクト", "オブジェクトの内容"], 3, "Server Access Loggingは、アクセスのメタデータを記録しますが、オブジェクトの実際の内容は記録しません。"),
        ("S3のReplication Time Control (RTC)の機能はどれか。", ["レプリケーションの一時停止", "レプリケーション時間の保証", "レプリケーション先の自動選択", "レプリケーションコストの最適化"], 1, "RTCは、S3レプリケーションが15分以内に完了することを保証し、SLAを提供します。")
    ]
    
    # RDS・データベース詳細問題 (121-145)
    rds_questions = [
        ("Amazon RDSで自動バックアップが実行される時間帯はどれか。", ["常に固定時間", "ユーザーが指定したバックアップウィンドウ", "ランダムな時間", "ピーク時間を避けて自動選択"], 1, "RDSの自動バックアップは、ユーザーが指定したバックアップウィンドウ内で実行されます。"),
        ("RDS Read Replicaの制限として正しいものはどれか。", ["読み取り専用アクセスのみ", "同じリージョン内でのみ作成可能", "1つのマスターDBに対して1つのみ作成可能", "自動フェイルオーバー機能がある"], 0, "Read Replicaは読み取り専用で、書き込み操作はマスターDBでのみ実行できます。"),
        ("Amazon Auroraの特徴として正しくないものはどれか。", ["MySQL・PostgreSQLと互換性がある", "ストレージが自動的にスケールする", "NoSQLデータベースである", "高可用性を提供する"], 2, "Amazon Auroraは、MySQL・PostgreSQL互換のリレーショナルデータベースです。"),
        ("DynamoDBのプライマリキーの種類として正しくないものはどれか。", ["Partition Key", "Composite Key", "Foreign Key", "Sort Key"], 2, "DynamoDBはNoSQLデータベースで、Foreign Keyの概念はありません。"),
        ("DynamoDB Global Tablesの説明として正しいものはどれか。", ["単一リージョン内でのレプリケーション", "複数リージョン間でのマルチマスターレプリケーション", "読み取り専用レプリカ", "手動同期が必要"], 1, "DynamoDB Global Tablesは、複数リージョン間でマルチマスターレプリケーションを提供します。"),
        ("Amazon ElastiCacheのクラスターモードの利点はどれか。", ["コストの削減", "水平スケーリングとデータ分散", "セキュリティの向上", "バックアップの自動化"], 1, "ElastiCacheのクラスターモードでは、データを複数のシャードに分散して水平スケーリングが可能です。"),
        ("RDSのメンテナンスウィンドウで実行される作業として正しくないものはどれか。", ["OSパッチの適用", "データベースエンジンのアップグレード", "アプリケーションコードの更新", "セキュリティパッチの適用"], 2, "メンテナンスウィンドウでは、インフラレベルの更新が行われますが、アプリケーションコードの更新は含まれません。"),
        ("DynamoDB Accelerator (DAX)の主な機能はどれか。", ["データの暗号化", "インメモリキャッシング", "データのバックアップ", "アクセス制御"], 1, "DAXは、DynamoDB用のフルマネージドインメモリキャッシュサービスです。"),
        ("Amazon Redshiftのデータ圧縮について正しい説明はどれか。", ["手動で設定する必要がある", "自動的に最適な圧縮方式を選択する", "圧縮は利用できない", "追加料金が発生する"], 1, "Redshiftは、データの特性に基づいて自動的に最適な圧縮方式を選択します。"),
        ("RDSのパフォーマンスインサイトで監視できる項目として正しくないものはどれか。", ["CPU使用率", "データベース接続数", "アプリケーションのレスポンス時間", "待機イベント"], 2, "パフォーマンスインサイトは、データベースレベルのメトリクスを監視しますが、アプリケーションレベルのレスポンス時間は監視しません。"),
        ("DynamoDBのオンデマンド課金モードの特徴はどれか。", ["事前にキャパシティを設定する必要がある", "使用した分だけ課金される", "月額固定料金", "無料で利用できる"], 1, "オンデマンドモードでは、実際に使用したリクエスト数に基づいて課金されます。"),
        ("RDSのMulti-AZ配置でフェイルオーバーが発生する条件として正しくないものはどれか。", ["プライマリDBの障害", "アベイラビリティゾーンの障害", "手動でのフェイルオーバー実行", "読み取り負荷の増加"], 3, "Multi-AZフェイルオーバーは、可用性の問題で発生し、読み取り負荷の増加では発生しません。"),
        ("Amazon DocumentDBの説明として正しいものはどれか。", ["MySQL互換のデータベース", "MongoDB互換のドキュメントデータベース", "PostgreSQL互換のデータベース", "Oracle互換のデータベース"], 1, "Amazon DocumentDBは、MongoDB互換のフルマネージドドキュメントデータベースサービスです。"),
        ("DynamoDBのGlobal Secondary Index (GSI)の特徴として正しいものはどれか。", ["テーブルと同じパーティションキーを使用する必要がある", "異なるパーティションキーとソートキーを使用できる", "読み取り専用", "無料で利用できる"], 1, "GSIでは、ベーステーブルとは異なるパーティションキーとソートキーを使用できます。"),
        ("Amazon Neptuneの説明として正しいものはどれか。", ["リレーショナルデータベース", "グラフデータベース", "ドキュメントデータベース", "キーバリューストア"], 1, "Amazon Neptuneは、フルマネージドグラフデータベースサービスです。"),
        ("RDSのリードレプリカで実行できない操作はどれか。", ["データの読み取り", "データの書き込み", "バックアップの作成", "監視メトリクスの確認"], 1, "リードレプリカは読み取り専用で、データの書き込み操作は実行できません。"),
        ("DynamoDBのPoint-in-Time Recovery (PITR)の説明として正しいものはどれか。", ["手動でバックアップを作成する機能", "継続的なバックアップと35日以内の任意の時点への復元", "週次バックアップ機能", "月次バックアップ機能"], 1, "PITRは、継続的なバックアップを作成し、過去35日以内の任意の時点にテーブルを復元できます。"),
        ("Amazon Timestream の主な用途はどれか。", ["リレーショナルデータの管理", "時系列データの管理", "グラフデータの管理", "ドキュメントデータの管理"], 1, "Amazon Timestreamは、時系列データ専用のフルマネージドデータベースサービスです。"),
        ("RDSのProxy機能の主な利点はどれか。", ["データベースのパフォーマンス向上", "接続プールとフェイルオーバーの改善", "データの暗号化", "バックアップの自動化"], 1, "RDS Proxyは、データベース接続の効率的な管理とフェイルオーバー時間の短縮を提供します。"),
        ("DynamoDBのTransactionsの説明として正しいものはどれか。", ["単一項目の操作のみサポート", "複数項目に対するACID準拠の操作をサポート", "読み取り操作のみサポート", "無料で利用できる"], 1, "DynamoDB Transactionsは、複数の項目に対してACID準拠のトランザクション操作を提供します。"),
        ("Amazon QLDBの特徴として正しいものはどれか。", ["NoSQLデータベース", "台帳データベース", "グラフデータベース", "時系列データベース"], 1, "Amazon QLDBは、完全に管理された台帳データベースで、変更不可能で検証可能なトランザクションログを提供します。"),
        ("RDSのCustom Engine Versionの利点はどれか。", ["コストの削減", "特定のデータベースエンジンバージョンの長期使用", "パフォーマンスの向上", "セキュリティの強化"], 1, "Custom Engine Versionでは、特定のマイナーバージョンを長期間使用でき、アップグレードのタイミングを制御できます。"),
        ("DynamoDBのStreamsの主な用途はどれか。", ["データのバックアップ", "データ変更イベントのキャプチャ", "データの暗号化", "パフォーマンスの向上"], 1, "DynamoDB Streamsは、テーブル内のデータ変更イベントをキャプチャし、リアルタイム処理を可能にします。"),
        ("Amazon Keyspacesの説明として正しいものはどれか。", ["MySQL互換サービス", "Apache Cassandra互換サービス", "MongoDB互換サービス", "Redis互換サービス"], 1, "Amazon Keyspacesは、Apache Cassandra互換のフルマネージドデータベースサービスです。"),
        ("RDSのBlue/Green Deploymentsの主な利点はどれか。", ["コストの削減", "ダウンタイムを最小化したデータベース更新", "パフォーマンスの向上", "セキュリティの強化"], 1, "Blue/Green Deploymentsは、本番環境への影響を最小化してデータベースの更新やアップグレードを実行できます。")
    ]
    
    # 問題を追加
    start_id = 96
    for i, (question, choices, answer, explanation) in enumerate(s3_questions):
        questions.append({
            "id": start_id + i,
            "question": question,
            "choices": choices,
            "answer": answer,
            "explanation": explanation
        })
    
    start_id = 121
    for i, (question, choices, answer, explanation) in enumerate(rds_questions):
        questions.append({
            "id": start_id + i,
            "question": question,
            "choices": choices,
            "answer": answer,
            "explanation": explanation
        })
    
    return questions

if __name__ == "__main__":
    questions = generate_questions_96_300()
    print(f"生成された問題数: {len(questions)}")
    
    # 重複チェック
    question_texts = [q["question"] for q in questions]
    unique_texts = set(question_texts)
    print(f"ユニークな問題数: {len(unique_texts)}")
    print(f"重複数: {len(question_texts) - len(unique_texts)}")
    
    # 最初の5問を表示
    for i, q in enumerate(questions[:5], 1):
        print(f"{i}. ID:{q['id']} - {q['question'][:60]}...")